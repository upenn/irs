<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Institutional Requirements Status</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
</head>
    <link href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css" rel="stylesheet">
    <link href="irs.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" type="application/javascript"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js" type="application/javascript"></script>
    <script>
        var exports = {};
        $(function() {
            // setup degree radios
            $('[name="ugrad_degree"]').attr("disabled", true)
            $('[name="masters_degree"]').attr("disabled", true)
            $('#auto_degree').on('change', function() {
                // console.log("you clicked the auto checkbox " + this.checked)
                if (this.checked) {
                    $('[name="ugrad_degree"]').attr("disabled", true)
                    $('[name="masters_degree"]').attr("disabled", true)
                } else {
                    $('[name="ugrad_degree"]').attr("disabled", false)
                    $('[name="masters_degree"]').attr("disabled", false)
                    if ($('[name="ugrad_degree"]:checked').length == 0) {
                        $("#no_ugrad").attr("checked", true)
                    }
                    if ($('[name="masters_degree"]:checked').length == 0) {
                        $("#no_masters").attr("checked", true)
                    }
                }
            })

            // run test input if requested
            const searchParams = new URLSearchParams(window.location.search)
            if (searchParams.has("testdr")) {
                runTestInputDWDiagnosticsReport()
            } else if (searchParams.has("testch")) {
                runTestInputDWClassHistory()
            }
        })
    </script>
    <script src="degree_requirements.js" type="application/javascript"></script>
</head>

<body>
<div class="container" style="max-width: 2000px">
    <h4>Institutional Requirements Status</h4>

    <div class="accordion my-3" id="accordionExampleHowto">
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwoHowto">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwoHowto" aria-expanded="false" aria-controls="collapseTwoHowto">
                    Usage Instructions
                </button>
            </h2>
            <div id="collapseTwoHowto" class="accordion-collapse collapse" aria-labelledby="headingTwoHowto" data-bs-parent="#accordionExampleHowto">
                <div class="accordion-body">
                    This page uses information from DegreeWorks. Everything runs in the browser; no student information is stored locally or remotely.
                    <ol>
                        <li>You must be on-campus or on the VPN to access DegreeWorks.</li>
                        <li><a href="https://degreeworks-prod-j.isc-seo.upenn.edu:9904/worksheets">Visit DegreeWorks</a> and lookup a student by name or PennID</li>
                        <li>
                            Click the <b>Process</b> button to ensure the degree audit uses the most-recent courses and
                            degree requirements. Then, click the <b>Diagnostics</b> link to open the <b>Diagnostics Report</b>
                            page.<br/>
                            <img src="degreeworks.png">
                        </li>
                        <li>On the <b>Diagnostics Report</b> page, select all then copy (Ctrl-A, Ctrl-C) the contents
                            into the textbox below.</li>
                        <li>For Accelerated Masters students, you should copy+paste their Master's Diagnostics Report
                            <i>as well as</i> their undergrad Diagnostics Report (the order doesn't matter).
                            <ul>
                                <li>Currently (as of September 2022), graduate courses taken in Fall 2022 appear only on
                                    the Master's degree worksheet, even though the student may intend to use them toward
                                    undergrad degree requirements.
                                </li>
                            </ul>
                        </li>
                        <li>Click the blue <b>apply courses to requirements</b> button</li>
                        <li>Report issues to <a href="mailto:devietti@cis.upenn.edu">devietti@cis.upenn.edu</a>,
                            happy to add folks to the <a href="https://github.com/upenn/irs">private GitHub repo</a> as well.
                            The code is written in TypeScript.</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div>
<textarea id="coursesTaken" name="coursesTaken" rows="10" cols="80" placeholder="paste DegreeWorks Diagnostics Report"></textarea>
            </div>
                <button type="button" class="btn btn-secondary my-2" onclick="$('#coursesTaken').val('')">clear</button>
            <div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="auto_degree" name="auto_degrees" value="auto" checked>
                    <label class="form-check-label" for="auto_degree">infer degree(s) automatically</label>
                </div>
                <div>
                    <b class="py-2">40cu Undergrad degree:</b>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="no_ugrad" name="ugrad_degree" value="none">
                        <label class="form-check-label" for="no_ugrad">None</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="csci_40" name="ugrad_degree" value="40cu CSCI">
                        <label class="form-check-label" for="csci_40">CSCI</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="ascs_40" name="ugrad_degree" value="40cu ASCS">
                        <label class="form-check-label" for="ascs_40">ASCS</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="cmpe_40" name="ugrad_degree" value="40cu CMPE">
                        <label class="form-check-label" for="cmpe_40">CMPE</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="nets_40" name="ugrad_degree" value="40cu NETS">
                        <label class="form-check-label" for="nets_40">NETS</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="dmd_40" name="ugrad_degree" value="40cu DMD">
                        <label class="form-check-label" for="dmd_40">DMD</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="ascc_40" name="ugrad_degree" value="40cu ASCC">
                        <label class="form-check-label" for="ascc_40">ASCC</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="ee_40" name="ugrad_degree" value="40cu EE">
                        <label class="form-check-label" for="ee_40">EE</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="sse_40" name="ugrad_degree" value="40cu SSE">
                        <label class="form-check-label" for="sse_40">SSE</label>
                    </div>
                </div>
                <div>
                    <b>Masters degree:</b>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="no_masters" name="masters_degree" value="none">
                        <label class="form-check-label" for="no_masters">None</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="cismse" name="masters_degree" value="CIS-MSE">
                        <label class="form-check-label" for="cismse">CIS MSE</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="dats" name="masters_degree" value="DATS">
                        <label class="form-check-label" for="dats">DATS</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="robo" name="masters_degree" value="ROBO">
                        <label class="form-check-label" for="robo">ROBO</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="cggt" name="masters_degree" value="CGGT">
                        <label class="form-check-label" for="cggt">CGGT</label>
                    </div>
                </div>
                <div>
                    <button type="button" class="btn btn-primary my-2" onclick="webMain()">apply courses to requirements</button>
                </div>
            </div>
        </div>
    </div>
    <div class="row align-items-start py-2">
        <div id="studentInfo"></div>
        <div id="remainingCUs"></div>
        <div id="doubleCounts"></div>
    </div>
    <div class="row align-items-start py-2">
        <div class="col-xl-12" id="columns1And2">
            <div class="row">
                <div class="requirementsList" id="col1Header"></div>
                <div class="col-xl">
                    <div class="requirementsList" id="col1Reqs"></div>
                </div>
                <div class="col-xl">
                    <div class="requirementsList" id="col2Reqs"></div>
                </div>
            </div>
        </div>
        <div class="col-xl-4">
            <div class="requirementsList" id="col3Header"></div>
            <div class="requirementsList" id="col3Reqs"></div>
        </div>
    </div>
    <div id="usedCoursesList"></div>
    <div class="row">
        <div class="col">
            <div>
                <div id="unusedCoursesHeader"></div>
                <div class="" id="unusedCoursesList"></div>
            </div>
            <div id="messages"></div>
            <div id="allCourses"></div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
</body>
</html>